/*
 FusionCharts JavaScript Library - KDtree
 Copyright FusionCharts Technologies LLP
 License Information at <http://www.fusioncharts.com/license>

 @version 3.11.3
 FusionCharts JavaScript Library - ZoomScatter Chart
 Copyright FusionCharts Technologies LLP
 License Information at <http://www.fusioncharts.com/license>

 @version 3.11.3
*/
(function(E,P){"object"===typeof module&&module.exports?module.exports=E.document?P(E):function(y){if(!y.document)throw Error("Window with document not present");return P(y,!0)}:E.FusionCharts=P(E,!0)})("undefined"!==typeof window?window:this,function(E,P){FusionCharts.register("module",["private","modules.renderer.js-kdtree",function(){function y(g){this.configure(g)}var r=this.hcLib,E=function(g,k){return g.x-k.x},I=function(g,k){return g.y-k.y},R=function(g,k,m,t,u){return Math.pow(m-g,2)+Math.pow(t-
k,2)<=Math.pow(u,2)},aa=Math.PI,P=Math.cos,Y=Math.sin,M=Math.max,F=Math.min,x=aa/180,K=function(g,k,m,t,u,C){return m<=M(g,u)&&m>=F(g,u)&&t<=M(k,C)&&t>=F(k,C)?!0:!1},V=function(g,k,m,t,u,C){k=(t-k)*(u-m);g=(m-g)*(C-t);isNaN(k)&&(k=0);isNaN(g)&&(g=0);g=k-g;return 0===g?0:0<g?1:2};y.prototype={configure:function(g){this.validatorFn=g?this.shapeValidator():this.defaultValidator()},defaultValidator:function(){var g=this;return function(k){var m=g.mousePoint;return k&&1>=Math.pow((k.x-m.x)/g.xLimit,2)+
Math.pow((k.y-m.y)/g.yLimit,2)?!0:!1}},shapeValidator:function(){var g=this;return function(k){var m=g.mousePoint,t=k&&k.shapeInfo,u=!1,C,r=m.x,m=m.y,B;switch(t&&t.type){case "circle":C=t.radius;u=R(r,m,k.x,k.y,C);break;case "arc":u=t.innerradius;C=t.radius;u=!R(r,m,k.x,k.y,u)&&R(r,m,k.x,k.y,C);break;case "polygon":C=t.radius;B=t.startAngle;t=t.sides;a:{u=k.x;k=k.y;var v,D=0,y,N,O,F,M;v=!1;if(R(r,m,u,k,C)&&3<=t){v=void 0===B?.5*aa:B%360*x;M=2*aa/t;y=u+C*P(-v);F=k+C*Y(-v);for(B=0;B<t;B++){v+=M;N=u+
C*P(-v);O=k+C*Y(-v);var I=y,E=F,H=N,Q=O,L=r,U=m,T=m,c=V(I,E,H,Q,L,U),b=V(I,E,H,Q,Infinity,T),a=V(L,U,Infinity,T,I,E),d=V(L,U,Infinity,T,H,Q);if(c!==b&&a!==d||0===c&&K(I,E,L,U,H,Q)||0===b&&K(I,E,Infinity,T,H,Q)||0===a&&K(L,U,I,E,Infinity,T)||0===d&&K(L,U,H,Q,Infinity,T)){if(0===V(y,F,r,m,N,O)){u=K(y,F,r,m,N,O);break a}D++}y=N;F=O}v=0!==D%2}u=v}break;case "rect":u=k.x;C=k.y;k=u+(t.width||0);t=C+(t.height||0);u=r>=u&&r<=k&&m>=C&&m<=t;break;case "default":u=!1}return u}},buildKdTree:function(g){this.tree=
this._buildKdTree(g,!1)},getNeighbour:function(g){var k=this.tree,m={x1:g.x-this.xLimit,x2:g.x+this.xLimit,y1:g.y-this.yLimit,y2:g.y+this.yLimit},t=this.validatorFn;this.mousePoint=g;if(k)return this._searchBtwnLimit(m,k,!1,t)},_compair2closest:function(g,k){if(g){if(k)return k.i>g.i?k:g}else return k;return g},_searchBtwnLimit:function(g,k,m,t){var u,r,x,B;x=m?"x":"y";var v=m?g.x1:g.y1,D=m?g.x2:g.y2;if(k)return u=k.point1?k.point1[x]:D,r=k.point2?k.point2[x]:D,x=k.point3?k.point3[x]:D,t(k.point1)&&
(B=this._compair2closest(B,k.point1)),u>=v&&k.left&&(B=this._compair2closest(B,this._searchBtwnLimit(g,k.left,!m,t))),u<=D&&k.middle1&&(t(k.point2)&&(B=this._compair2closest(B,k.point2)),r>=v&&(B=this._compair2closest(B,this._searchBtwnLimit(g,k.middle1,!m,t))),r<=D&&k.middle2&&(t(k.point3)&&(B=this._compair2closest(B,k.point3)),x>=v&&(B=this._compair2closest(B,this._searchBtwnLimit(g,k.middle2,!m,t))),x<=D&&k.right&&(B=this._compair2closest(B,this._searchBtwnLimit(g,k.right,!m,t))))),B},_buildKdTree:function(g,
k){var m,t,r;if(m=g&&g.length)return g.sort(k?E:I),7<m?(m=Math.floor(m/4),t=2*(m+1)-1,r=3*(m+1)-1,{left:this._buildKdTree(g.slice(0,m),!k),point1:g[m],middle1:this._buildKdTree(g.slice(m+1,t),!k),point2:g[t],middle2:this._buildKdTree(g.slice(t+1,r),!k),point3:g[r],right:this._buildKdTree(g.slice(r+1),!k)}):{left:2<=m?{point1:g[0]}:void 0,point1:1<=m?1===m?g[0]:g[1]:void 0,middle1:3<=m?{point1:g[2]}:void 0,point2:4<=m?g[3]:void 0,middle2:5<=m?{point1:g[4]}:void 0,point3:6<=m?g[5]:void 0,right:7==m?
{point1:g[6]}:void 0}},_setSearchLimit:function(g,k){this.xLimit=g;this.yLimit=k}};y.prototype.constructor=y;r.KdTree=y}]);FusionCharts.register("module",["private","modules.renderer.js-zoomscatter",function(){var y=this,r=y.hcLib,E=r.parseTooltext,I=r.Raphael,R=y.window,P=r.addEvent,ca=r.removeEvent,Y=R.MouseEvent,M=R.document,F=r.BLANKSTRING,x=r.pluck,K=r.pluckNumber,V=r.getFirstValue,g=r.toRaphaelColor,k=r.hasSVG,m=r.isIE,t=r.getFirstColor,u=r.hasTouch,C="rgba(192,192,192,"+(m?.002:1E-6)+")",W=
Math,B=W.round,v=W.min,D=W.max,Z=W.abs,N=W.cos,O=W.sin,ba=W.floor,da=2*Math.PI,ea=r.getMouseCoordinate,fa=r.POSITION_BOTTOM,H=r.chartAPI,Q=r.HUNDREDSTRING,L=function(c,b){var a=ea(b.linkedItems.container,c),d=a.chartX,e=a.chartY,f=b.config,n=f.canvasLeft,p=f.canvasTop,h=f.canvasLeft+f.canvasWidth,f=f.canvasHeight+f.canvasTop;a.insideCanvas=!1;a.originalEvent=c;d>n&&d<h&&e>p&&e<f&&(a.insideCanvas=!0);return a},U=function(c,b,a){var d;b&&c&&(a||(a={}),a.originalEvent&&(a=a.originalEvent),a.touches&&
(a=a.touches[0]),b.dispatchEvent?(Y?d=new Y(c,{bubbles:!!a.bubbles,cancelable:!!a.cancelable,clientX:a.clientX||a.pageX&&a.pageX-M.body.scrollLeft-M.documentElement.scrollLeft||0,clientY:a.clientY||a.pageY&&a.pageY-M.body.scrollTop-M.documentElement.scrollTop||0,screenX:a.screenX||0,screenY:a.screenY||0,pageX:a.pageX||0,pageY:a.pageY||0}):M.createEvent&&(d=M.createEvent("HTMLEvents"),d.initEvent(c,!!a.bubbles,!!a.cancelable)),d.eventName=c,d&&b.dispatchEvent(d)):M.createEventObject&&b.fireEvent&&
(d=M.createEventObject(),d.eventType=c,d.eventName=c,b.fireEvent("on"+c,d)))},T=r.KdTree;H("zoomscatter",{standaloneInit:!0,defaultDatasetType:"zoomscatter",applicableDSList:{zoomscatter:!0},highlightEnabled:!1,friendlyName:"ZoomScatter Chart",isXY:!0,defaultZeroPlaneHighlighted:!1,creditLabel:!1,configure:function(){var c,b=this.config;H.scatter.configure.apply(this,arguments);c=this.jsonData.chart;b.stepZoom=1-K(c.stepzoom,25)/100;b.showToolBarButtonToolText=K(c.showtoolbarbuttontooltext,1);b.btnResetChartToolText=
x(c.btnresetcharttooltext,"Reset Chart");b.btnZoomOutToolText=x(c.btnzoomouttooltext,"Zoom out to previous level");b.btnZoomInToolText=x(c.btnzoomintooltext,"<strong>Zoom in</strong><br/>Or double-click on plot to zoom-in");b.btnSelectZoomToolText=x(c.btnselectzoomtooltext,"<strong>Select a region to zoom-in</strong><br/>Click to enable pan mode.");b.btnPanToolText=x(c.btnpantooltext,"<strong>Drag to move across chart</strong><br/>Click to enable select-zoom mode.")},_setAxisLimits:function(){var c=
this.jsonData,b=this.components.xAxis,a=x(c.chart.xaxislabelmode,"categories"),c=c.categories&&c.categories[0],c=(c&&c.category||[]).slice(),d,e=Infinity,f=-Infinity,n;if("auto"===a||0===c.length){H.mscartesian._setAxisLimits.call(this);a=b[0].getLimit();b[0].setAxisConfig({hasCategory:0});b[0].resetCategoryAxisComponents();for(d=0;d<c.length;d+=1)if(n=c[d].x)n<e&&(e=n),n>f&&(f=n);if(f>a.max||e<a.min)f=D(f,a.max),e=v(e,a.min),b[0].setDataLimit(f,e)}else b[0].resetNumericAxisComponents(),H.scatterBase._setAxisLimits.call(this)},
_createAxes:function(){var c=this.components;H.scatter._createAxes.call(this,arguments);c.yAxis[0].setAxisConfig({animateAxis:!1});c.xAxis[0].setAxisConfig({animateAxis:!1})},_spaceManager:function(){var c,b,a=this.config,d=this.components,e=d.xAxis&&d.xAxis[0];b=d.yAxis&&d.yAxis||[];var f,n,p=d.legend.config.legendPos,h=a.xDepth,l=a.yDepth,A=a.canvasBgDepth,z=a.canvasBaseDepth,k=a.canvasBasePadding,X=d.canvas.config.canvasBorderWidth,g=a.realTimeConfig&&a.realTimeConfig.showRTValue,q=a.borderWidth,
J=a.canvasMarginTop,S=a.canvasMarginBottom,w=a.canvasMarginLeft,G=a.canvasMarginRight,d=a.minCanvasHeight,m=a.minCanvasWidth;c=a.minChartWidth;var r=a.minChartHeight,t=a.height,v=a.width,u=a._initConfig||(a._initConfig={}),x=!1,B=a.origCanvasTopMargin,D=a.origCanvasBottomMargin,y,C,E=[];u.canvasLeft=a.canvasLeft;u.canvasWidth=a.canvasWidth;u.canvasHeight=a.canvasHeight;u.canvasTop=a.canvasTop;u.availableHeight=a.availableHeight;u.availableWidth=a.availableWidth;a.canvasWidth-2*q<c&&(n=(a.canvasWidth-
c)/2);a.canvasHeight-2*q<r&&(f=(a.canvasHeight-r)/2);this._allocateSpace({top:f||q,bottom:f||q,left:n||q,right:n||q});a.origCanvasWidth=a.canvasWidth;a.origCanvasLeft=a.canvasLeft;a.canvasRight=a.canvasLeft+a.canvasWidth;a.origCanvasRight=a.canvasRight;q=0;for(n=b.length;q<n;q++)f=b[q],c=.7*a.availableWidth,c=f&&f.placeAxis(c)||{},E.push({axisIndex:q,spaceTaken:c}),f&&this._allocateSpace(c);b=.7*a.canvasHeight;this._manageActionBarSpace&&this._allocateSpace(this._manageActionBarSpace(b));this._manageLegendSpace(void 0);
l&&(this._allocateSpace({bottom:l}),a.shift=h+k+z);A&&this._allocateSpace({right:A});a.canvasWidth-2*X<m&&(C=(a.canvasWidth-m)/2);this._allocateSpace({left:C||X,right:C||X});m>v-w-G&&(l=a.canvasWidth-m,h=w+G,w=a.canvasMarginLeft=l*w/h,G=a.canvasMarginRight=l*G/h);w=w>a.canvasLeft?w-a.canvasLeft:0;this._allocateSpace({left:w,right:G>v-a.canvasRight?G+a.canvasRight-v:0});b=p===fa?.6*a.canvasHeight:.6*a.canvasWidth;this._manageChartMenuBar(b);b=.2*a.availableHeight;this._allocateSpace(this._getSumValueSpace(b));
b=.3*a.availableHeight;a.origCanvasHeight=a.canvasHeight;a.canvasBottom=a.canvasTop+a.canvasHeight;a.origCanvasBottom=a.canvasBottom;a.origCanvasTop=a.canvasTop;a.realtimeEnabled&&(g?this._allocateSpace(this._realTimeValuePositioning(b)):this._hideRealTimeValue());b=.6*a.availableHeight;a.xAxisSpaceAllocation=p=e&&e.placeAxis(b);e&&this._allocateSpace(p);this._getDSspace&&this._allocateSpace(this._getDSspace(.4*a.canvasWidth));b=.3*a.availableHeight;this._manageScrollerPosition&&this._manageScrollerPosition(b);
a.canvasHeight-2*X<d&&(y=(a.canvasHeight-d)/2);this._allocateSpace({top:y||X,bottom:y||X});this._allocateSpace({bottom:z});d>t-J-S&&(x=!0,l=a.canvasHeight-d,h=J+S,J=a.canvasMarginTop=l*J/h,S=a.canvasMarginBottom=l*S/h);e=J>a.canvasTop?J-a.canvasTop:0;z=S>t-a.canvasBottom?S+a.canvasBottom-t:0;this._allocateSpace({top:e,bottom:z});x&&(h=B+D,x=a.canvasHeight,x>d&&(l=x-d,e=l*B/h,z=l*D/h),this._allocateSpace({top:e,bottom:z}));a.actualCanvasMarginTop=e;a.actualCanvasMarginLeft=w},_createToolBox:function(){var c,
b,a,d,e,f,n,p,h,l=this,A=l.config;d=l.components;c=d.chartMenuBar;b=d.actionBar;h=A.showToolBarButtonToolText;var z=A.stepZoom;c&&c.drawn||b&&b.drawn||(H.mscartesian._createToolBox.call(l),c=d.tb,b=c.graphics||(c.graphics={}),a=c.getAPIInstances(c.ALIGNMENT_HORIZONTAL),a=a.Symbol,d=(d.chartMenuBar||d.actionBar).componentGroups[0],e=b.zoomInButton=(new a("zoomInIcon",void 0,c.idCount++,c.pId)).attachEventHandlers({click:function(){l.zoom(z)},tooltext:h&&A.btnZoomInToolText||F}),f=b.zoomOutButton=(new a("zoomOutIcon",
void 0,c.idCount++,c.pId)).attachEventHandlers({click:function(){var a=A.viewPortHistory;1<a.length&&(a=a.slice(-2,-1)[0],l.updateVisual(a.x,a.y,a.scaleX,a.scaleY))},tooltext:h&&A.btnZoomOutToolText||F}),n=b.resetButton=(new a("resetIcon",void 0,c.idCount++,c.pId)).attachEventHandlers({click:function(){var a=A.viewPortConfig,b=l.graphics;1<A.viewPortHistory.length&&(a.isReset=!0,l.zoomSelection(0,0,A.canvasWidth,A.canvasHeight),A.viewPortHistory.splice(1),b.trackerGroup.attr({cursor:"default"}),l.updateButtonVisual(),
l.updateSelectionBox(0,0,0,0));y.raiseEvent("zoomReset",{},l.chartInstance,[l.chartInstance.id])},tooltext:h&&A.btnResetChartToolText||F}),p=b.toggleZoomInButton=(new a("zoomModeIcon",void 0,c.idCount++,c.pId)).attachEventHandlers({click:function(){l.toogleDragPan(!0)},tooltext:h&&A.btnSelectZoomToolText||F}),h=b.togglePanButton=(new a("panModeIcon",void 0,c.idCount++,c.pId)).attachEventHandlers({click:function(){l.toogleDragPan(!0)},tooltext:h&&A.btnPanToolText||F}),d.addSymbol(h,!0),d.addSymbol(p,
!0),d.addSymbol(n,!0),d.addSymbol(f,!0),d.addSymbol(e,!0))},_createLayers:function(){var c=this.graphics,b=this.components.paper;H.scatter._createLayers.call(this);!c.imageContainer&&(c.imageContainer=b.group("dataset-orphan",c.datasetGroup));this.__preDraw()},_dist:function(c,b){var a=this.components,d;d=a.xAxis[0];a=a.yAxis[0];if(c&&b)return d=(c.x-b.x)*d.getPVR(),a=(c.y-b.y)*a.getPVR(),Math.sqrt(Math.pow(d,2)+Math.pow(a,2))},__preDraw:function(){var c=this.graphics,b=c.imageContainer,a=this.config,
d=a.canvasLeft,e=a.canvasTop,f=a.canvasWidth,n=a.canvasHeight,p=this.jsonData.chart,h=this.linkedItems,h=h.eventListeners||(h.eventListeners=[]),l=this.linkedItems.container,A=this.components.paper;a.updateAnimDuration=500;b.transform("t"+d+","+e);b.attr({"clip-rect":d+","+e+","+f+","+n});a.status="zoom";a.maxZoomLimit=K(p.maxzoomlimit,1E3);a.viewPortHistory=[{scaleX:1,scaleY:1,x:0,y:0}];!c.trackerElem&&(c.trackerElem=A.rect(d,e,f,n,0,c.trackerGroup).attr({fill:C,stroke:C}));ca(l,u?"touchstart":"mousemove",
this.searchMouseMove);h.push(P(l,"touchstart mousemove",this.searchMouseMove,this));this.zoomPanManager(b)},searchMouseMove:function(c){var b,a,d,e=c.data,f=e.config,n=f.viewPortConfig;a=e.components;var p=a.xAxis[0],h=a.yAxis[0];e.linkedItems.container&&!f.isDragging&&((b=L(c,e))&&b.insideCanvas?(a=f.canvasTop,d=p.getAxisConfig("axisDimention").x||f.canvasLeft,n.lastMouseCoordinate={x:Number(p.getValue(b.chartX-d)),y:Number(h.getValue(b.chartY-a))},clearTimeout(n.neighbourSearchTimer),f.lastMouseEvent=
c,n.neighbourSearchTimer=setTimeout(function(){f.isDragging||e._bestNeighbour(n.lastMouseCoordinate)},100)):e.highlightPoint(!1))},updateSelectionBox:function(c,b,a,d){var e=this.config,f=this.graphics,n=this.components.paper,p=e.viewPortConfig,h=e.cursor,l=f.selectionBox,A=e.canvasRight,z=e.canvasLeft,k=e.canvasTop,g=e.canvasBottom,m=c<a?c:a,q=b<d?b:d,J=c>a?c:a,S=b>d?b:d,w=a-c,G=b-d,h=h?0<w&&0<G?"ne-resize":0>w&&0<G?"nw-resize":0>w&&0>G?"sw-resize":0<w&&0>G?"se-resize":"default":"default",m=m<z?
z:m>A?A:m,q=q<k?k:q>g?g:q,w=c===a&&b===d?0:(J>A?A:J<z?z:J)-m,G=c===a&&b===d?0:(S>g?g:S<k?k:S)-q;l?l.attr({x:m,y:q,width:w,height:G,cursor:h}):f.selectionBox=n.rect(m,q,w,G).attr({"stroke-width":1,stroke:"red",fill:"#00FF00",opacity:.2,cursor:h});f.trackerGroup.attr({cursor:h});e.cursor=h;p.selectionDimensions||(p.selectionDimensions={startX:0,endX:0,startY:0,endY:0});p.selectionDimensions.startX=c;p.selectionDimensions.endX=b;p.selectionDimensions.startY=a;p.selectionDimensions.endY=d},getValue:function(c){var b=
this.config,a=this.components,d=b.viewPortConfig;c=this.getOriginalPositions(c.x,c.y,c.x,c.y);var e=a.xAxis[0].config.axisRange,a=a.yAxis[0].config.axisRange,f=e.min,n=a.max;return{x:f+(c[0]-b.canvasLeft)/(b.canvasWidth*d.scaleX/(e.max-f)),y:n-(c[1]-b.canvasTop)/(b.canvasHeight*d.scaleY/(n-a.min))}},_getTouchViewPort:function(c,b,a){var d,e;e=this.config;var f=e.canvasLeft,n=e.canvasTop;d=e.canvasWidth;e=e.canvasHeight;var p=v(c[0].chartX,c[1].chartX)-f,h=v(c[0].chartY,c[1].chartY)-n,l=Math.abs(c[1].chartX-
c[0].chartX);c=Math.abs(c[1].chartY-c[0].chartY);var f=v(b[0].chartX,b[1].chartX)-f,A=v(b[0].chartY,b[1].chartY)-n,n=Math.abs(b[1].chartX-b[0].chartX)/l*a.scaleX;b=Math.abs(b[1].chartY-b[0].chartY)/c*a.scaleY;p=a.x+p/a.scaleX-f/n;a=a.y+h/a.scaleY-A/b;p=0>p?0:p;a=0>a?0:a;b=1>b?1:b;n=1>n?1:n;d-=d/n;e-=e/b;return{x:p>d?d:p,y:a>e?e:a,scaleX:n,scaleY:b}},getOriginalPositions:function(c,b,a,d){var e=this.config,f=e.viewPortConfig,n=f.scaleX,p=f.scaleY,h=f.x,f=f.y,l=v(c,a);c=D(c,a);a=v(b,d);b=D(b,d);c=c>
e.canvasWidth?e.canvasWidth:c;b=b>e.canvasHeight?e.canvasHeight:b;l=0>l?0:l;a=0>a?0:a;return[h+l/n,f+a/p,(c-l)/n,(b-a)/p]},zoomSelection:function(c,b,a,d){var e=this.config;a&&d&&(a=Math.abs(e.canvasWidth/a),d=Math.abs(e.canvasHeight/d),this.updateVisual(c,b,a,d))},toogleDragPan:function(c){var b=this.config,a=b.status;c&&(b.status="zoom"===a?"pan":"zoom",y.raiseEvent("zoomModeChanged",{panModeActive:b.status},this.chartInstance,[this.chartInstance.id]));this.updateButtonVisual()},updateManager:function(c){var b,
a=this.components.dataset,d=a.length;for(b=0;b<d;b+=1)a[b].draw(c);c||this._drawQuadrant()},zoomPanManager:function(){var c,b=[],a=[],d=this,e=d.config,f=d.graphics,n=d.components,p=n.xAxis[0],h=n.eventListeners||(n.eventListeners=[]),l=d.viewPortConfig,A=!1,z=0,k,g={},m=function(a){var b=a.chartX,d=a.chartY,c=p.getAxisConfig("axisDimention").x||e.canvasLeft,f=e.canvasTop,h=e.canvasRight,l=e.canvasBottom;b<c&&(a.chartX=D(b,c));b>h&&(a.chartX=v(b,h));d<f&&(a.chartY=D(d,f));d>l&&(a.chartY=v(d,l))},
q={start:function(a){l=e.viewPortConfig;u=a.touches?!0:!1;b[0]=L(a,d);d.updateSelectionBox(0,0,0,0);u&&(A=!1,c=a.touches.length,2===c&&(A=!0,g.x=l.x,g.y=l.y,g.scaleX=l.scaleX,g.scaleY=l.scaleY,b[0]=L(a.touches.item(0),d),b[1]=L(a.touches.item(1),d)));e.isDragging=!1;"pan"===e.status&&(e.panStartX=l.x,e.panStartY=l.y,b[0].insideCanvas&&f.trackerGroup.attr({cursor:"move"}))},on:function(c){var h,p,z,k;z=e.panStartX;var q=e.panStartY;h=l.scaleX;p=l.scaleY;var m=n.xAxis[0],ga=n.yAxis[0];u=c.touches?!0:
!1;a[0]=L(c,d);a[0].insideCanvas?"pan"===e.status&&f.trackerGroup.attr({cursor:"move"}):f.trackerGroup.attr({cursor:"default"});u&&c&&(k=c.touches.length,2===k?(A=!0,a[0]=L(c.touches.item(0),d),a[1]=L(c.touches.item(1),d)):A=!1);!e.isDragging&&(!u||2<Z(a[0].chartX-b[0].chartX)||2<Z(a[0].chartY-b[0].chartY))&&(e.isDragging=!0,d.highlightPoint(!1),"zoom"===e.status&&(b[0].pointValue=d.getValue({x:b[0].chartX,y:b[0].chartY}),y.raiseEvent("selectionStart",{chartX:b[0].chartX,chartY:b[0].chartY,pageX:b[0].pageX,
pageY:b[0].pageY,selectionTop:b[0].chartX+e.canvasLeft,selectionLeft:b[0].chartY+e.canvasTop,selectionWidth:0,selectionHeight:0,startXVAlue:b[0].pointValue.x,startYVAlue:b[0].pointValue.y},d.chartInstance,[d.chartInstance.id])));if(e.isDragging)if(A){if(b[0].insideCanvas||b[1].insideCanvas)z=d._getTouchViewPort(b,a,g),d.updateVisual(z.x,z.y,z.scaleX,z.scaleY,!0)}else"zoom"===e.status?d.updateSelectionBox(b[0].chartX,b[0].chartY,a[0].chartX,a[0].chartY):"pan"!==e.status||1===h&&1===p||!b[0].insideCanvas||
(c=b&&a[0].chartX-b[0].chartX,k=b&&a[0].chartY-b[0].chartY,z-=c/h,q-=k/p,h=e.canvasWidth*(h-1)/h,p=e.canvasHeight*(p-1)/p,l.x=z>h?h:0>z?0:z,l.y=q>p?p:0>q?0:q,d.updateManager(),m.draw(),ga.draw())},end:function(c){var h=L(c,d),l=p.getAxisConfig("axisDimention").x||e.canvasLeft,n=e.canvasTop,q;q=e.canvasWidth/4;var r=e.canvasHeight/4,h=isNaN(h.chartX)||isNaN(h.chartY)?a[0]||b[0]:h;if(e.isDragging){if(A){if(b[0].insideCanvas||b[1].insideCanvas)c=d._getTouchViewPort(b,a,g),d.updateVisual(c.x,c.y,c.scaleX,
c.scaleY);A=!1}else"zoom"===e.status&&(c=h,q=b[0],m(q),m(c),n=d.getOriginalPositions(q.chartX-l,q.chartY-n,c.chartX-l,c.chartY-n))&&(c.pointValue=d.getValue({x:c.chartX,y:c.chartY}),y.raiseEvent("selectionEnd",{chartX:c.chartX,chartY:c.chartY,pageX:c.pageX,pageY:c.pageY,selectionTop:c.chartX+e.canvasLeft,selectionLeft:c.chartY+e.canvasTop,selectionWidth:Math.abs(c.chartX-q.chartX),selectionHeight:Math.abs(c.chartY-q.chartY),startXVAlue:q.pointValue.x,startYVAlue:q.pointValue.y,endXValue:c.pointValue.x,
endYValue:c.pointValue.y},d.chartInstance,[d.chartInstance.id]),q.chartX!==c.chartX&&q.chartY!==c.chartY&&d.zoomSelection(n[0],n[1],n[2],n[3]),d.updateSelectionBox(0,0,0,0));e.isDragging=!1;c=a[0]||b[0];c.data=d;d.searchMouseMove(c)}else h.insideCanvas&&(z+=1,setTimeout(function(){z=0;k=void 0},500),2===z?(c&&c.touches?!0:!1)===k&&(l=h.chartX-l,n=h.chartY-n,n=d.getOriginalPositions(l-q,n-r,l+q,n+r),d.zoomSelection(n[0],n[1],n[2],n[3]),c.preventDefault()):k=c&&c.touches?!0:!1);f.trackerGroup.attr({cursor:"default"})}};
h.push(P(d.linkedItems.container,"pointerdrag",function(a){q[a.state](a.originalEvent)}))},_drawDataset:function(){var c,b=this.components.dataset,a=b.length;for(c=0;c<a;c+=1)b[c]._deleteGridImages(),b[c].graphics._grid={};this.updateVisual()},updateVisual:function(c,b,a,d,e){var f,n,p,h,l;f=this.config;var A=this.components,z=f.viewPortConfig;l=f.canvasWidth;var k=f.canvasHeight,g=l,m=k,q=f.viewPortHistory,m=q.slice(-1)[0],J=[],J=f.status,r=f._initConfig;n=A.xAxis[0];h=A.yAxis[0];p=this.graphics;
A=(A=A.quadrant)&&A.graphics.container;g=f.maxZoomLimit;z.x=isNaN(c)?c=m.x:c;z.y=isNaN(b)?b=m.y:b;z.scaleX=a||(a=m.scaleX);z.scaleY=d||(d=m.scaleY);a>g&&(z.x=c=v(c,l-l/g),z.scaleX=a=g);d>g&&(z.y=b=v(b,k-k/g),z.scaleY=d=g);if(e)this.updateManager(e);else for(1<a||1<d?("zoom"===J&&this.toogleDragPan(!0),a>=m.scaleX||d>=m.scaleY?(q.push({scaleX:a,scaleY:d,x:c,y:b}),J=["zoomed","zoomIn"]):(q.pop(),m=q.slice(-1)[0],z.x=m.x,z.y=m.y,z.scaleX=m.scaleX,z.scaleY=m.scaleY,J=["zoomed","zoomOut"])):(1<q.length&&
q.pop(),"pan"===J&&this.toogleDragPan(!0),J=["zoomed","zoomOut"]),this.toogleDragPan(),g=f.canvasWidth,m=f.canvasHeight,c&&(c=z.x*=g/l),b&&(z.y*=m/k),f.canvasLeft=r.canvasLeft,f.canvasWidth=r.canvasWidth,f.canvasHeight=r.canvasHeight,f.canvasTop=r.canvasTop,f.availableHeight=r.availableHeight,f.availableWidth=r.availableWidth,this._spaceManager(),this._postSpaceManagement(),this.updateManager(),n.draw(),h.draw(),this._drawCanvas(),l={"clip-rect":f.canvasLeft+","+f.canvasTop+","+f.canvasWidth+","+
f.canvasHeight},f.viewPortConfig&&this.graphics.imageContainer.attr({x:f.canvasLeft,y:f.canvasRight}),p.imageContainer.attr(l).transform("T"+f.canvasLeft+","+f.canvasTop),p.tracker&&p.tracker.attr(l),A&&A.attr(l),f=n.getValue(0),n=n.getValue(g),p=h.getValue(0),h=h.getValue(m),0===arguments.length&&(J=F),l=0;l<J.length;l+=1)"zoomed"===J[l]&&y.raiseEvent("zoomed",{level:q.length,startX:f,startY:p,endX:n,endY:h},this.chartInstance,[this.chartInstance.id]),"zoomIn"===J[l]?y.raiseEvent("zoomedIn",{level:q.length,
startX:f,startY:p,endX:n,endY:h},this.chartInstance,[this.chartInstance.id]):"zoomOut"!==J[l]||z.isReset||y.raiseEvent("zoomedOut",{level:q.length,startX:f,startY:p,endX:n,endY:h},this.chartInstance,[this.chartInstance.id]);this.highlightPoint(!1);z.isReset=!1},getFillColor:function(c,b){b=parseFloat(b/100);0>b?b=0:1<b&&(b=1);c||(c="#FFFFFF");if(m&&!k)return b?c:"transparent";c=c.replace(/^#?([a-f0-9]+)/ig,"$1");c=r.graphics.HEXtoRGB(c);c[3]=b.toString();return"rgba("+c.join(",")+")"},_bestNeighbour:function(c){var b=
this.components,a=this.config,d=b.xAxis[0],e=b.yAxis[0],f=this.jsonData.chart,n=a.canvasLeft,p=a.canvasTop,h,l,A,z,k,g,m,q,r,t,w,v;v=b.numberFormatter;r=b.dataset;for(h=r.length-1;0<=h;--h)if(b=r[h],w=b.config,l=w.showHoverEffect,q=w.showTooltip,b.components.kDTree&&b.visible&&(z=b.getElement(c),b=this._dist(c,z),!k||b<g))if(A=h,k=z,g=b,m=r[A]&&w.zoomedRadius||0,g<=m)break;g<=D(m+2,5)?(c=d.getPixel(k.x)-n,p=e.getPixel(k.y)-p,n=x(k.tooltext,w.plotToolText),b=r[A],w=b.config,r=w.tooltip.toolTipSepChar,
g=w.tooltip.seriesNameInToolTip,m=k.x,h=k.y,k&&(t=v.yAxis(h),v=v.xAxis(m),t=Number(q)?void 0!==n?E(n,[4,5,6,7,8,9,10,11],{yaxisName:e.getAxisConfig("axisName"),xaxisName:d.getAxisConfig("axisName"),yDataValue:t,xDataValue:v},k,f,b.config):(g?w.seriesname?w.seriesname+r:"":"")+"x:"+v+r+"y:"+t:F),a.lastHoveredPoint!==k&&this.highlightPoint(l,c,p,k,A,t)):this.highlightPoint(!1)},highlightPoint:function(c,b,a,d,e,f){var n=this,p=n.config,h=n.components,l=n.graphics,A=h.paper,k=l.tracker,g=(h=h.dataset[e])&&
h.config;e=h&&g.zoomedRadius||0;var m=h&&g.hoverCosmetics,h=m&&m.fill,g=m&&m.borderColor,m=m&&m.borderThickness,t={},t=function(a){r.plotEventHandler.call(this,n,a)},q=function(a){r.plotEventHandler.call(this,n,a,"dataplotRollover")},v=function(a){r.plotEventHandler.call(this,n,a,"dataplotRollout")},u=d&&d.link;k||(k=l.tracker=A.circle(0,0,0,l.trackerGroup).attr({"clip-rect":p.canvasLeft+","+p.canvasTop+","+p.canvasWidth+","+p.canvasHeight}).click(t).trackTooltip(!0).hover(q,v));d&&k.data("eventArgs",
{x:d.x,y:d.y,tooltip:f,link:u});p.lastHoveredPoint=d;t=Number(c)?{r:e,fill:h,stroke:g,"stroke-width":m}:{r:e,fill:C,stroke:C,"stroke-width":0};t.cursor=u?"pointer":"";k.attr(t).tooltip(f).transform("t"+(b+p.canvasLeft)+","+(a+p.canvasTop));d&&U("mouseover",k&&k.node,p.lastMouseEvent)},zoom:function(c){var b,a,d=this.config,e=d.viewPortConfig;b=e.x;a=e.y;var f=d.canvasWidth,d=d.canvasHeight,n=f/e.scaleX,p=d/e.scaleY,e=n*c;c*=p;e=e>f?f:e;c=c>d?d:c;b=b+n/2-e/2;a=a+p/2-c/2;b=0>b?0:b;a=0>a?0:a;b=b+e>f?
f-e:b;a=a+c>d?d-c:a;this.zoomSelection(b,a,e,c)},updateButtonVisual:function(){var c,b,a,d;a=this.config;var e=this.components.tb.graphics;c=a.status;var f;1>=a.viewPortHistory.length?(a=["zoomOutButton","resetButton","togglePanButton"],d=["zoomInButton"],f="toggleZoomInButton"):(d=["resetButton","zoomOutButton","zoomInButton"],a=[],"zoom"===c?(d.push("togglePanButton"),f="toggleZoomInButton"):"pan"===c&&(d.push("toggleZoomInButton"),f="togglePanButton"));for(c=0;c<a.length;c+=1)b=a[c],e[b].node.attr({config:{hover:{fill:"#FFFFFF",
"stroke-width":1,stroke:"#E3E3E3",cursor:"default"},normal:{fill:"#FFFFFF",stroke:"#E3E3E3","stroke-width":1,cursor:"default"},disable:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3","stroke-opacity":1,cursor:"default"},pressed:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3",cursor:"default"}},fill:["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF",!0],"button-disabled":!1,stroke:"#E3E3E3","stroke-opacity":1});for(c=0;c<d.length;c+=1)b=d[c],e[b].node.attr({config:{hover:{fill:"#FFFFFF","stroke-width":1,
stroke:"#aaaaaa",cursor:"pointer"},normal:{fill:"#FFFFFF",stroke:"#C2C2C2","stroke-width":1,cursor:"pointer"},disable:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3","stroke-opacity":1,cursor:"pointer"},pressed:{fill:"#EFEFEF","stroke-width":1,stroke:"#C2C2C2",cursor:"pointer"}},"button-disabled":!1,fill:["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF",!0],stroke:"#C2C2C2","stroke-opacity":1});e[f].node.attr({config:{hover:{fill:"#EFEFEF","stroke-width":1,stroke:"#EFEFEF",cursor:"default"},normal:{fill:"#EFEFEF",
stroke:"#E3E3E3","stroke-width":1,cursor:"default"},disable:{fill:"#E6E6E6","stroke-width":1,stroke:"#E3E3E3","stroke-opacity":1,cursor:"default"},pressed:{fill:"#EFEFEF","stroke-width":1,stroke:"#E3E3E3",cursor:"default"}},"button-disabled":!1,fill:["#EFEFEF","#EFEFEF","#EFEFEF","#EFEFEF",!0],stroke:"#E3E3E3","stroke-opacity":1})},_drawAxis:function(){}},H.scatterBase);FusionCharts.register("component",["dataset","zoomscatter",{type:"zoomscatter",configure:function(){var c,b,a,d,e,f,n;f=this.chart;
var p=f.config;d=f.jsonData.chart;var h=f.getFillColor,l=this.JSONData;this.__base__.configure.call(this);f=this.config;b=this.components;c=x(l.anchorbordercolor,d.anchorbordercolor);f.anchorBorderThickness=x(l.anchorborderthickness,d.anchorborderthickness,c?1:0);b.kDTree=new T;f.chunkSize=Math.floor(v((l.data||[]).length/5,5E4));c=f.staticRadius=K(d.staticradius,0);f.radius=K(l.radius,l.anchorradius,d.radius,d.anchorradius,c?3:.5);n=f.showHoverEffect;c=t(x(l.plotfillhovercolor,l.hovercolor,d.plotfillhovercolor,
d.hovercolor,f.anchorbgcolor));b=x(l.plotfillhoveralpha,l.hoveralpha,d.plotfillhoveralpha,d.hoveralpha,Q);a=t(x(l.plotfillhovercolor,l.hovercolor,d.plotfillhovercolor,d.hovercolor,c));e=x(l.plotfillhoveralpha,l.hoveralpha,d.plotfillhoveralpha,d.hoveralpha,Q);d=K(l.borderhoverthickness,d.borderhoverthickness,1);f.hoverCosmetics={showHoverEffect:n,fill:h(c,b),borderColor:h(a,e),borderThickness:d};f.tooltip={toolTipVisible:p.showtooltip,seriesNameInToolTip:p.seriesnameintooltip,toolTipSepChar:p.tooltipsepchar};
f.lastViewPort={}},draw:function(c){var b,a,d;b=this.graphics;d=this.chart;a=d.components;var e=d.graphics.imageContainer,f=a.paper;d=d.config;var n=this.visible,p=d.viewPortConfig,h=this.config,l=h.lastViewPort||{},k=!1;b.container||(b.container=f.group("grid-container",e));n&&this._conatinerHidden?this.show():n||this._conatinerHidden||this.hide();if(c)this._pixelatedDraw();else{if(l.scaleX!==p.scaleX||l.scaleY!==p.scaleY)l.scaleX=p.scaleX,l.scaleY=p.scaleY,c=a.xAxis[0],b=a.yAxis[0],a=c.getPVR(),
c=b.getPVR(),d=D(h.zoomedRadius=v(h.staticRadius?h.radius:h.radius*v(p.scaleX,p.scaleY),d.canvasWidth/2,d.canvasHeight/2),2),this.components.kDTree._setSearchLimit(d/a,d/c),this._deleteGridImages(),this.graphics._grid={},k=!0;this._gridDraw(k)}},_pixelatedDraw:function(){var c,b,a,d,e,f=this.chart.config;a=this.config;d=this.graphics;var n=a.drawLine,p=a.lastViewPort||{},h=p.scaleX,l=p.scaleY;e=f.viewPortConfig;var k=e.scaleX,g=e.scaleY,p=this.graphics._grid||(this.graphics._grid=[]),h=k/h,l=g/l,
g=f.canvasWidth*h,f=f.canvasHeight*l;a=a._batchDarwTimers;d=d.container;clearTimeout(this.timer);if(a&&a.length)for(;a.length;)clearTimeout(a.shift());d.transform("t"+B(-e.x*e.scaleX)+","+B(-e.y*e.scaleY));for(c in p)if(e=p[c])for(b in e)(d=e[b])&&d.drawState&&(a=d.image,a.attr({x:d.xPixel*h,y:d.yPixel*l,width:g,height:f}),n&&(a=d.lineImage,a.attr({x:d.xPixel*h,y:d.yPixel*l,width:g,height:f})))},_deleteGridImages:function(){var c,b,a,d,e;b=this.config;var f=this.graphics,n=f._imagePool||(f._imagePool=
[]),p=f._canvasPool||(f._canvasPool=[]),h=f._lineImagePool||(f._lineImagePool=[]),l=f._lineCanvasPool||(f._lineCanvasPool=[]),k=f._grid||[];if((b=b._batchDarwTimers)&&b.length)for(;b.length;)clearTimeout(b.shift());for(a in k)if(e=k[a])for(d in e)(b=e[d])&&b.drawState&&(c=b.image,c.attr({src:"",width:0,height:0}),n.push(c),delete b.image,c=b.canvas,p.push(c),delete b.canvas,delete b.ctx,c=b.lineImage)&&(c.attr({src:"",width:0,height:0}),h.push(c),delete b.lineImage,c=b.lineCanvas,l.push(c),delete b.lineCanvas,
delete b.lineCtx);delete f._grid},_gridDraw:function(c){var b=this,a=b.graphics,d=b.config,e=b.chart.config.viewPortConfig;clearTimeout(d.timer);a.container.transform("t"+B(-e.x*e.scaleX)+","+B(-e.y*e.scaleY));c?b._gridManager():d.timer=setTimeout(function(){b._gridManager()},10)},_gridManager:function(){var c,b,a,d,e,f,n,p,h,l=this,k=l.config,g=l.graphics._grid,m=k._drawGrid||(k._drawGrid=[]),r=l.chart,t=r.config,r=r.components;e=t.viewPortConfig;f=e.scaleX;var q=e.scaleY;n=Math.ceil(q);d=Math.ceil(f);
var u=r.xAxis[0],x=r.yAxis[0],r=u.getAxisConfig("axisDimention").axisLength||t.canvasWidth,t=t.canvasHeight,w=u.config,G=x.config,B=w.axisRange.min,w=w.axisRange.max,y=G.axisRange.min,G=G.axisRange.max,C=(w-B)/f,E=(G-y)/q;b=k.radius*v(e.scaleX,e.scaleY)+k.plotCosmetics.borderWidth;u=Z(b/(r*e.scaleX/(u.max-u.min)));x=Z(b/(t*e.scaleY/(x.max-x.min)));b=r/f;h=t/q;c=v(1,b/10,h/10);var q={},F=[];f=e.x+c;b=e.x-c+b;p=e.y+c;c=e.y+h-c;e=l._getFocusedGrid(f,p);h=q[e.row]||(q[e.row]={});h[e.col]=!0;e=l._getFocusedGrid(b,
p);h=q[e.row]||(q[e.row]={});h[e.col]=!0;e=l._getFocusedGrid(b,c);h=q[e.row]||(q[e.row]={});h[e.col]=!0;e=l._getFocusedGrid(f,c);h=q[e.row]||(q[e.row]={});h[e.col]=!0;f=l._getFocusedGrid();e=f.row;f=f.col;b=D(e-1,0);e=v(e+1,n-1);n=D(f-1,0);f=v(f+1,d-1);d=G-b*E;for(p=b;p<=e;p+=1){g[p]||(g[p]={});b=B+n*C;for(h=n;h<=f;h+=1)c=g[p][h],c||(a=D(d-E,y),c=v(b+C,w),c=g[p][h]={xPixel:h*r,yPixel:p*t,xMinValue:b,yMinValue:a,xMaxValue:c,yMaxValue:d,drawState:0,xMinWPad:D(b-u,B),yMinWPad:D(a-x,y),xMaxWPad:v(c+u,
w),yMaxWPad:v(d+x,G)}),c.drawState||(q[p]&&q[p][h]?m.push({row:p,col:h}):F.push({row:p,col:h})),b+=C;d-=E}(m.length||F.length)&&l._drawGridArr(function(){k._drawGrid=F;l._drawGridArr()})},_getFocusedGrid:function(c,b){var a=this.chart.config,d=a.viewPortConfig,e=a.canvasWidth/d.scaleX,a=a.canvasHeight/d.scaleY,f=isNaN(c)?d.x+e/2:c,d=isNaN(b)?d.y+a/2:b;return{row:ba(d/a),col:ba(f/e)}},_drawGridArr:function(c){var b,a,d,e,f=this.chart;b=f.config;var n=f.components,k=b.viewPortConfig,h=this.config,l=
h.drawLine,g=h._drawGrid,m=[],r=this.graphics.container,t=n.paper,n=n.xAxis[0].getAxisConfig("axisDimention").axisLength||b.canvasWidth,u=b.canvasHeight,q=this.graphics._grid,x=this.graphics._imagePool||[],B=this.graphics._canvasPool||[],w=this.graphics._lineImagePool||[],G=this.graphics._lineCanvasPool||[],y=h.plotCosmetics,k=h.radius*v(k.scaleX,k.scaleY),f=(f.components.xAxis[0].getAxisConfig("axisDimention").x||b.canvasLeft)-b.canvasLeft;if(g.length){for(;g.length;)b=g.shift(),b=q[b.row][b.col],
2!==b.drawState&&(b.drawState=2,l&&(b.lineImage=w.length?w.shift():t.image("",r),b.lineImage.attr({x:b.xPixel+f,y:b.yPixel,width:n,height:u}),b.lineCanvas=B.length?d=G.shift():d=R.document.createElement("canvas"),d.setAttribute("width",n),d.setAttribute("height",u),e=b.lineCtx=d.getContext("2d"),e.fillStyle=y.fillStyle,e.strokeStyle=y.lineStrokeStyle,e.lineWidth=y.lineWidth),b.image=x.length?x.shift():t.image("",r),b.image.attr({x:b.xPixel+f,y:b.yPixel,width:n,height:u}),b.canvas=B.length?a=B.shift():
a=R.document.createElement("canvas"),a.setAttribute("width",n),a.setAttribute("height",u),e=b.ctx=a.getContext("2d"),1>k?(e.strokeStyle=y.fillStyle,e.lineWidth=.5):(e.fillStyle=y.fillStyle,e.strokeStyle=y.strokeStyle,e.lineWidth=y.borderWidth),m.push(b));h._batchDrawindex=this.JSONData.data&&this.JSONData.data.length-1||0;this._drawGridArrBatch(m,c,!h.animation.enabled)}else c&&c()},_drawGridArrBatch:function(c,b,a){var d,e,f,n,k,h,l,g,m,r,t,u,q,v,x,w,y=this;h=y.config;var C=y.chart.components;w=
y.config;var D=w.drawLine;g=w.plotCosmetics;n=w._batchDrawindex;f=y.components.data;k=n-w.chunkSize;var E=C.yAxis[0],F=w.zoomedRadius,C=C.xAxis[0].getPVR(),E=E.getPVR(),I=h.showRegressionLine,K=w._store||[],H=g.lineWidth||1>F;I&&(v=h.regLineColor,x=h.regressionLineThickness);for(g=0;g<c.length;g+=1)c[g].ctx.beginPath(),D&&c[g].lineCtx.beginPath();for(k=0>=k?0:k;n>=k;--n)if((t=f[n]&&f[n].config.setValue)&&!isNaN(t.x)&&!isNaN(t.y))for(g=0;g<c.length;g+=1)(d=c[g],u=d.xMinValue,q=d.yMaxValue,t.x<d.xMinWPad||
t.x>d.xMaxWPad||t.y<d.yMinWPad||t.y>d.yMaxWPad||(m=d.ctx,r=d.lineCtx,d=B((t.x-u)*C),e=B((q-t.y)*E),(l=K[d])||(l=K[d]={}),l[e]))||(l[e]=!0,D&&(l=0<=n-1&&f[n-1].config.setValue)&&(r.moveTo(B((l.x-u)*C),B((q-l.y)*E)),r.lineTo(d,e)),1>F?(m.moveTo(d,e),m.lineTo(d+1,e)):(m.moveTo(d+F,e),m.arc(d,e,F,0,da)));for(g=0;g<c.length;g+=1)d=c[g],m=d.ctx,m.fill(),H&&m.stroke(),m.closePath(),D&&(r=d.lineCtx,r.fill(),H&&r.stroke(),r.closePath());w._batchDrawindex=n;if(0<=n){if(!a)for(g=0;g<c.length;g+=1)m=c[g].image,
f=c[g].canvas,m.attr({src:f.toDataURL("image/png")}),w.drawLine&&(v=c[g].lineImage,x=c[g].lineCanvas,v.attr({src:x.toDataURL("image/png")}));(w._batchDarwTimers||(w._batchDarwTimers=[])).push(setTimeout(function(){y.chart&&y._drawGridArrBatch(c,b,a)},0))}else{delete w._store;if(I)for(w=h.regressionData,g=0;g<c.length;g+=1)d=c[g],n=d.xMinValue,h=d.yMaxValue,m=d.image,f=d.canvas,m=d.ctx,f=(w[0].x-n)*C,k=(h-w[0].y)*E,n=(w[1].x-n)*C,h=(h-w[1].y)*E,m.beginPath(),m.strokeStyle=v,m.lineWidth=x,m.moveTo(f,
k),m.lineTo(n,h),m.stroke(),m.closePath();for(g=0;g<c.length;g+=1)d=c[g],m=d.image,f=d.canvas,d.drawState=1,m.attr({src:f.toDataURL("image/png")}),D&&(v=d.lineImage,x=d.lineCanvas,v.attr({src:x.toDataURL("image/png")}));y.tree||setTimeout(function(){y._buildKdTree()},250);b&&b()}},_buildKdTree:function(){var c=this.config;c._kdPoints=(this.JSONData.data||[]).slice();this.components.kDTree||(this.components.kDTree=new T);this.components.kDTree.buildKdTree(c._kdPoints);delete c._kdPoints},getElement:function(c){if(this.components.kDTree)return this.components.kDTree.getNeighbour(c)},
show:function(){var c=this.graphics,c=c&&c.container;this.visible=!0;this._conatinerHidden=!1;c.show()},hide:function(){var c=this.graphics,c=c&&c.container;this.visible=!1;this._conatinerHidden=!0;c.hide()},_addLegend:function(){var c=this.chart,b=c.jsonData.chart,a=this.config,d=this.JSONData,e=c.getFillColor,f=x(d.anchorbordercolor,b.anchorbordercolor),n=t(x(f,a.plotBorderColor)),f=K(d.anchorborderthickness,b.anchorborderthickness,f?1:0),k=t(x(d.anchorbgcolor,d.color,b.anchorbgcolor,a.plotColor)),
h=x(d.anchoralpha,d.alpha,b.anchoralpha,Q),b=x(d.anchorbgalpha,d.alpha,b.anchorbgalpha,Q),d={color:a.lineColor,alpha:a.lineAlpha},e=a.plotCosmetics={fillStyle:e(k,h*b/100),strokeStyle:e(n,h),borderWidth:f,lineWidth:a.lineThickness,lineStrokeStyle:g(d)};this.legendItemId=c.components.legend.addItems(this,this.legendInteractivity,{enabled:a.includeInLegend,type:this.type,fillColor:e.fillStyle,strokeColor:e.strokeStyle,anchorSide:2,strokeWidth:a.anchorBorderThickness,label:V(this.JSONData.seriesname)})},
_setConfigure:function(){var c,b,a,d,e,f,g,k,h,l=-Infinity,m=Infinity,t=Infinity,u=-Infinity,y=this.components.data||(this.components.data=[]);c=this.chart;var B=r.parseUnsafeString,q=this.config,C=this.JSONData,I=c.jsonData.chart,w=C.data||[],G=w.length,H=c.components.numberFormatter,L=B(I.yaxisname),M=B(I.xaxisname),N=q.lineDashed,O=q.lineDashStyle,P=q.parentYAxis,Q=q.toolTipSepChar,R=q.seriesname;for(c=0;c<G;c+=1)d=w[c],a=y[c]||(y[c]={}),b=a.config||(a.config={}),b.setValue=e={x:H.getCleanValue(d.x),
y:H.getCleanValue(d.y),index:c},u=D(u,e.x),t=v(t,e.x),l=D(l,e.y),m=v(m,e.y),q.showRegressionLine&&this.pointValueWatcher(e.x,e.y,q.regressionObj),b.setLink=x(d.link),b.anchorProps=this._parseAnchorProperties(c),b.showValue=K(d.showvalue,q.showValues),b.dashed=K(d.dashed,N),b.color=x(d.color,q.lineColor),b.alpha=x(d.alpha,q.lineAlpha),b.dashStyle=b.dashed?O:"none",b.toolTipValue=f=H.dataLabels(e.y,P),b.setDisplayValue=h=B(d.displayvalue),k=b.formatedVal=x(d.toolTipValue,H.dataLabels(e.y,P)),g=H.xAxis(e.x),
b.displayValue=x(h,f),b.setTooltext=r.getValidValue(B(x(d.tooltext,q.plotToolText))),q.showTooltip?void 0!==b.setTooltext?(e=[4,5,6,7,8,9,10,11],g={yaxisName:L,xaxisName:M,yDataValue:k,xDataValue:g},d=E(b.setTooltext,e,g,d,I,C)):null===k?d=!1:(d=R?R+Q:F,d+=e.x?g+Q:F,d+=f):d=!1,b.toolText=d,a?a.graphics||(y[c].graphics={}):a=y[c]={graphics:{}},b.hoverEffects=this._parseHoverEffectOptions(a),b.anchorProps.isAnchorHoverRadius=b.hoverEffects.anchorRadius;q.xMax=u;q.xMin=t;q.yMin=m;q.yMax=l;q.showRegressionLine&&
(q.regressionData=this.getRegressionLineSeries(q.regressionObj,q.showYOnX,G));this.ErrorValueConfigure&&this.ErrorValueConfigure()}},"Scatter"]);I.addSymbol({zoomInIcon:function(c,b,a){c-=.2*a;b-=.2*a;var d=.8*a,e=I.rad(43),f=I.rad(48),g=c+d*N(e),e=b+d*O(e),k=c+d*N(f),f=b+d*O(f),h=I.rad(45),l=g+a*N(h),m=e+a*O(h),r=k+a*N(h)-1;a=f+a*O(h)-1;return["M",g,e,"A",d,d,0,1,0,k,f,"Z","M",g+1,e+1,"L",l,m,r,a,k+1,f+1,"Z","M",c-2,b,"L",c+2,b,"Z","M",c,b-2,"L",c,b+2,"Z"]},zoomModeIcon:function(c,b,a){var d=[];
c-=.2*a;b-=.2*a;var e=.8*a,f=I.rad(43),g=I.rad(48),k=c+e*N(f),f=b+e*O(f),h=c+e*N(g),g=b+e*O(g),l=I.rad(45),m=k+a*N(l),r=f+a*O(l),t=h+a*N(l)-1;a=g+a*O(l)-1;return d=d.concat(["M",k,f,"A",e,e,0,1,0,h,g,"Z","M",k+1,f+1,"L",m,r,t,a,t+1,a-1,t+1.5,a+1.5,t-1,a+1,t,a,h+1,g+1,"Z","M",c-2,b,"L",c+2,b,"Z","M",c,b-2,"L",c,b+2,"Z"])},panModeIcon:function(c,b,a){var d=c-11.25,d=c;a*=2.5;return[].concat(["M",d-a/16,b-a/8,"L",d+a/16,b-a/8,"L",d+a/16,b-a/3.2,"L",d+6*a/32,b-10*a/32,"L",d,b-a/2,"L",d-6*a/32,b-10*a/
32,"L",d-a/16,b-a/3.2,"Z","M",d+4*a/32,b-2*a/32,"L",d+10*a/32,b-2*a/32,"L",d+10*a/32,b-6*a/32,"L",d+16*a/32,b,"L",d+10*a/32,b+6*a/32,"L",d+10*a/32,b+2*a/32,"L",d+4*a/32,b+2*a/32,"Z","M",d+2*a/32,b+5*a/32,"L",d+2*a/32,b+10*a/32,"L",d+6*a/32,b+10*a/32,"L",d,b+16*a/32,"L",d-6*a/32,b+10*a/32,"L",d-2*a/32,b+10*a/32,"L",d-2*a/32,b+5*a/32,"Z","M",d-4*a/32,b-2*a/32,"L",d-10*a/32,b-2*a/32,"L",d-10*a/32,b-6*a/32,"L",d-16*a/32,b,"L",d-10*a/32,b+6*a/32,"L",d-10*a/32,b+2*a/32,"L",d-4*a/32,b+2*a/32,"Z"])}})}]);
P&&(E.FusionCharts=FusionCharts);return FusionCharts});
